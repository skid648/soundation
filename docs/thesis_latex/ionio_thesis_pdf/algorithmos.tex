\section{Αναπαραγωγή των αρχείων και όργανα}

Σχεδιάζοντας την βιβλιοθήκη παρουσιάστηκε η ανάγκη να μοντελοποιήθει ένα σύστημα αναπαρωγής αρχείων. Το σύστημα αυτό είναι υπεύθυνο να αναγνωρίζει και να αποθηκεύει στην προσωρινή μνήμη του περιηγητή αρχεία ήχου. Στο στάδιο αυτό μπορούν να εφαρμοστούν χαμηλού επιπέδου μετατροπές στον ήχο. Για την δημιουργία ενός μουσικού οργάνου χρειάζονται οχτώ \begin{otherlanguage*}{english}samples\end{otherlanguage*}. Το κάθε ένα αντιπροσωπευει μια απο τις παρακάτω νότες \begin{otherlanguage*}{english}Bb3, C3, C5, D6, Eb3, F4, G5, Gb6\end{otherlanguage*}.
Οι νότες αυτές μεταφέρονται στην μνήμη και εφαρμόζονται οι κατάλληλες μετατροπές για να την δημιουργία μιας χρωμματικής κλίμακας.\footnote{Στην μουσική ορολογία, χρωματική κλίμακα ονομάζεται η μουσική κλίμακα στην οποία η σειρά των μουσικών της φθόγγων προχωρά ανά 1 ημιτόνιο.} Στο στάδιο αυτό η βιβλιοθήκη έχει την δυνατότητα να αναπαράγει ένα σύνολο απο νότες. Τα αρχεία μπορούν να αποτελέσουν τη βάση για την μοντελοποίηση ενός οργάνου. Το παράδειγμα της παρούσας εργασίας υλοποιεί μια άρπα.



\section{Νότες και συγχορδίες}

Μετα την μοντελοποίηση των οργάνων σείρα έχουν οι νότες και κατ επέκταση οι συγχορδίες τους. Στόχος της υλοποίησης ήταν η


\section{Μουσικά κομμάτια}

Η πηγή της μελωδίας και του ακουστικού αποτελέσματος της βιβλιοθήκης είναι ένα σύνολο απο μουσικά κομμάτια. Τα κομμάτια αυτά αναπαρίστανται απο ένα πίνακα στοιχείων. Κάθε στοιχείο περιλαμβάνει το χρόνο στον οποιό θα αναπαραχθεί το ηχητικό σήμα, το βαθμό της νότας στην εκάστοτε κλίμακα και την διάρκεια που θα ακουστεί. Ο βαθμός αντιστοίχιζεται στην κατάλληλη νότα του όργανου από μια βοηθητική συνάρτηση που έχει ορισμένη την αντιστοιχία βαθμού και νότας στην κλίμακα. Η διαδικασία αυτή αποδεσμέυει το κομμάτι απο τα μουσικό κλειδί και τα όργανα. Αν ένα όργανο είναι υλοποιήμενο σωστά μπορεί να ανταποκριθεί σε όλες τις νότες και σε κάθε κλειδί. Παράλληλα το κομμάτι μπορεί να μετατράπει σε διαφορετικό μουσικό κλειδί κρατώντας το ρυθμό και την μελωδικότητα του. Για την δοκιμή και χρήση της βιβλιοθήκης μερικά κομμάτια προυπάρχουν και είναι έτοιμα να χρησιμοποιηθούν για τις μεταφράσεις. Προσφέρεται επίσης η δυνατότητα προσθήκης μουσικών κομματιών απο τόν χρήστη κάνοντας έυκολη την επεκτασή της εφαρμογής και αυξάνοντας την ελευθερία που προσφέρει.

\section{Αναγνώριση χρώμματος}

Η μετάφραση που έχει κατασκευαστεί πρέπει να τροφοδοτηθεί απο δεδομένα εισόδου. Τα δεδομένα αυτά μπορεί να είναι είτε συγκεκριμένες ηχητικές αλλαγές (λ.χ. Αλλαγή του \begin{otherlanguage*}{english}BPM\end{otherlanguage*} σε 50) είτε πρωτογενή δεδομένα οπως το χρώμα του εικονοστοιχείου. Για την διευκόλυνση του χρήστη της βιβλιοθήκης ύπαρχει ενσωματωμένη μια διαδικασία ομαδοποίησης και αντιστοίχισης των χρωμάτων. Η ομαδοποίηση είναι χρήσιμη για την κατάταξη μιας απόχρωσης σε μια βασική χρωματική παλέτα\footnote{Η επιλογή των χρωμάτων για την παλέτα αυτή έγινε με βάση το ορατό στο ανθρώπινο μάτι φάσμα του ουράνιου τόξου.}. Η αντιστοίχιση είναι η διαδικασία που χαρτογραφεί ένα χρωματικό σύνολο σε διακριτές τιμές ενός εκ των τριων παραμέτρων \begin{otherlanguage*}{english}(key, bpm, track)\end{otherlanguage*}. Με σκοπό να υπάρχει μεγαλύτερη ευελιξία προσφέρεται η δυνατότητα στο χρήστη να παρέχει την αντιστοίχιση σαν παράμετρο για κάθε μια απο τις ηχητικές αλλαγές. Το σημείο αυτό μπορεί να ερευνηθεί ακόμα περισσότερο για να εδραιωθεί μια απο κοινού αντιστοίχιση χρωμάτων - \begin{otherlanguage*}{english} BPM\end{otherlanguage*}, χρωμάτων - μουσικών κλειδίων και χρωμάτων μουσικών κομματιών. Στο παράδειγμα υλοποίησης της βιβλιοθήκης χρησιμοποιείται η προκαθορισμένη αντιστοίχιση. Αυτή έχει επιλεχθεί απο την προσωπική αισθητική του προγραμματιστή και δεν αποτελεί προιόν έρευνας.

\section{Δυναμική μετάφραση}

Κύριο στοιχείο της βιβλιοθήκης που παρουσιάζεται είναι η δυνατότητα μετάφρασης του χρώματος / ήχου σε πραγματικό χρόνο. Δίνεται η επιλογή στο χρήστη της να προσθέσει αρχεία ήχου για να επεκτείνει την μουσική με το αντίστοιχο μουσικό όργανο. Αφού τα απαραίτητα αρχεία έχουν προστεθεί το μουσικό όργανο είναι έτοιμο να αντεπεξέλθει στους περισσότερους ηχητικούς συνδυασμούς. Σε δεύτερο επίπεδο παρουσιάζεται η δυνατότητα αναπαράστασης μελωδιών μέσα από ένα \begin{otherlanguage*}{english}JSON\end{otherlanguage*} αρχείο, σχήμα ~\ref{fig:js_1}. Η προσθήκη καινούργιας μελωδίας απαιτεί την υλοποίηση ενός πίνακα αντικειμένων που έχουν σαν ιδιότητες, το βάρος στην εκάστοτε κλίμακα, την διάρκεια και τον χρόνο που θα ξεκινήσει η νότα.


\myfig{js_1}
{Παράδειγμα χρήσης.}

Έχοντας ολοκληρώσει τα παραπάνω βήματα η βιβλιοθήκη είναι έτοιμη να αναπαράγει τις μελωδίες μέσω του οργάνου καλώντας την μέθοδο \begin{otherlanguage*}{english}resume().\end{otherlanguage*} Κατά την διάρκεια της αναπαραγωγής υπάρχουν τρεις βασικές παράμετροι του ήχου που μπορούν να τροποποιηθούν κατά βούληση \begin{otherlanguage*}{english}(bpm, track, key). \end{otherlanguage*} Με τον τρόπο αυτό διευρύνεται η ελευθερία του προγραμματιστή ως προς την αντιστοίχηση αυτών των παραμέτρων σε χρωματικές αποχρώσεις.

